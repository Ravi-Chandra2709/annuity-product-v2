-- Beacon Fixed Annuity schema (11 tables) - generated from data specification
-- Run this in Supabase SQL Editor: https://supabase.com/dashboard -> SQL Editor

CREATE TABLE IF NOT EXISTS beacon_client_fixed_Contract_Contributions (
  UNIQUEID VARCHAR(61) NULL,
  PRODUCTID NUMERIC(18,0) NULL,
  CONTRIBID NUMERIC(18,0) NOT NULL,
  DATESTAMP TIMESTAMP NULL,
  DES_EXTSUR TEXT NULL,
  DES_FOUR01 TEXT NULL,
  DES_FOUR02 TEXT NULL,
  DES_FOUR57 TEXT NULL,
  DES_IRA TEXT NULL,
  DES_IRAROL TEXT NULL,
  DES_IRATR TEXT NULL,
  DES_KEOGH TEXT NULL,
  DES_MAX TEXT NULL,
  DES_MAXADD TEXT NULL,
  DES_MINAD1 TEXT NULL,
  DES_MINADD TEXT NULL,
  DES_MINNQ TEXT NULL,
  DES_MINQ TEXT NULL,
  DES_NONQUA TEXT NULL,
  DES_OTHER TEXT NULL,
  DES_PENSIO TEXT NULL,
  DES_PROFSH TEXT NULL,
  DES_SEPIRA TEXT NULL,
  DES_SPIRA TEXT NULL,
  DES_TRMLFU TEXT NULL,
  DES_TSA403 TEXT NULL,
  DESCR TEXT NULL,
  EXTSURR BOOLEAN NOT NULL,
  FOUR01A BOOLEAN NOT NULL,
  FOUR01K BOOLEAN NOT NULL,
  FOUR57 BOOLEAN NOT NULL,
  IRA BOOLEAN NOT NULL,
  IRAROLL BOOLEAN NOT NULL,
  IRATR BOOLEAN NOT NULL,
  KEOGH BOOLEAN NOT NULL,
  MAXADDL NUMERIC(18,4) NULL,
  MAXI NUMERIC(18,4) NULL,
  MINADDLNQ NUMERIC(18,4) NULL,
  MINADDLQ NUMERIC(18,4) NULL,
  MINNQ NUMERIC(18,4) NULL,
  MINQ NUMERIC(18,4) NULL,
  NONQUAL BOOLEAN NOT NULL,
  OTHER BOOLEAN NOT NULL,
  PENSION BOOLEAN NOT NULL,
  PROFSH BOOLEAN NOT NULL,
  SEPIRA BOOLEAN NOT NULL,
  SPIRA BOOLEAN NOT NULL,
  TRMLFUND BOOLEAN NOT NULL,
  TSA403B BOOLEAN NOT NULL
);

CREATE TABLE IF NOT EXISTS beacon_client_fixed_Rates (
  UNIQUEID VARCHAR(371) NULL,
  urn_code TEXT NULL,
  PRODUCTID NUMERIC(18,0) NULL,
  varid INTEGER NOT NULL,
  varsubid INTEGER NOT NULL,
  bandid INTEGER NOT NULL,
  bandsubid INTEGER NOT NULL,
  blockid INTEGER NOT NULL,
  schedid INTEGER NULL,
  schedsubid INTEGER NULL,
  mgirid INTEGER NULL,
  mgirsubid INTEGER NULL,
  banbonusid INTEGER NULL,
  company_name TEXT NULL,
  product_name TEXT NULL,
  ProdType VARCHAR(8) NULL,
  restricted BOOLEAN NOT NULL,
  IntType VARCHAR(13) NULL,
  product_inception_date TIMESTAMP NULL,
  product_close_date TIMESTAMP NULL,
  SURRYR NUMERIC(18,0) NULL,
  Intrateter INTEGER NOT NULL,
  term_begin_date TIMESTAMP NULL,
  term_end_date TIMESTAMP NULL,
  Qualifier TEXT NULL,
  MinimumCon DECIMAL(19,4) NOT NULL,
  maximumcon DECIMAL(19,4) NULL,
  band_begin_date TIMESTAMP NULL,
  band_end_date TIMESTAMP NULL,
  BandDesc TEXT NULL,
  MinGrate DECIMAL(10,2) NULL,
  mgir_begindate TIMESTAMP NULL,
  mgir_enddate TIMESTAMP NULL,
  InitRate DECIMAL(5,3) NOT NULL,
  mineffrate NUMERIC(18,3) NULL,
  rate_begindate TIMESTAMP NULL,
  rate_enddate TIMESTAMP NULL,
  BonusPct DECIMAL(5,3) NULL,
  BonusType VARCHAR(9) NULL,
  BonusLen INTEGER NULL,
  bonus_begindate TIMESTAMP NULL,
  bonus_enddate TIMESTAMP NULL,
  bailoutrate DECIMAL(18,4) NULL,
  rop BOOLEAN NOT NULL,
  Feebased BOOLEAN NOT NULL,
  AnnFreeCur NUMERIC(18,4) NULL,
  ANNFREEPCT NUMERIC(18,2) NULL,
  INTONLY BOOLEAN NOT NULL,
  CUMFREE BOOLEAN NOT NULL,
  contract_mva BOOLEAN NOT NULL,
  mva_applies BOOLEAN NOT NULL,
  DES_MVA TEXT NULL,
  DES_ANNFR1 TEXT NULL,
  DES_ANNFRE TEXT NULL,
  DES_INTONL TEXT NULL,
  surr_qualifier TEXT NULL,
  YR1 NUMERIC(18,2) NULL,
  YR2 NUMERIC(18,2) NULL,
  YR3 NUMERIC(18,2) NULL,
  YR4 NUMERIC(18,2) NULL,
  YR5 NUMERIC(18,2) NULL,
  YR6 NUMERIC(18,2) NULL,
  YR7 NUMERIC(18,2) NULL,
  YR8 NUMERIC(18,2) NULL,
  YR9 NUMERIC(18,2) NULL,
  YR10 NUMERIC(18,2) NULL,
  YR11 NUMERIC(18,2) NULL,
  YR12 NUMERIC(18,2) NULL,
  YR13 NUMERIC(18,2) NULL,
  YR14 NUMERIC(18,2) NULL,
  YR15 NUMERIC(18,2) NULL,
  YR16 NUMERIC(18,2) NULL,
  YR17 NUMERIC(18,2) NULL,
  YR18 NUMERIC(18,2) NULL,
  YR19 NUMERIC(18,2) NULL,
  YR20 NUMERIC(18,2) NULL,
  SurrIncDate TIMESTAMP NULL,
  SurrExpdate TIMESTAMP NULL,
  contract_states TEXT NULL,
  mgir_states TEXT NULL,
  surr_states TEXT NULL,
  combined_states TEXT NULL,
  Qualified VARCHAR(3) NOT NULL
);

CREATE TABLE IF NOT EXISTS beacon_client_fixed_Waivers (
  UNIQUEID VARCHAR(61) NULL,
  productid NUMERIC(18,0) NULL,
  WAIVERID NUMERIC(18,0) NOT NULL,
  ANN BOOLEAN NOT NULL,
  BAIL BOOLEAN NOT NULL,
  DEATH BOOLEAN NOT NULL,
  DES_ANN TEXT NULL,
  DES_BAIL TEXT NULL,
  DES_DEATH TEXT NULL,
  DES_DIS TEXT NULL,
  DES_HOSP TEXT NULL,
  DES_NURSE TEXT NULL,
  DES_SURRWI TEXT NULL,
  DES_TERM TEXT NULL,
  DES_UNEMP TEXT NULL,
  DESCR TEXT NULL,
  DIS BOOLEAN NOT NULL,
  EXPDATE TIMESTAMP NULL,
  HOSP BOOLEAN NOT NULL,
  NURSE BOOLEAN NOT NULL,
  SURRWIN BOOLEAN NOT NULL,
  TERM BOOLEAN NOT NULL,
  UNEMP BOOLEAN NOT NULL,
  EXCARE BOOLEAN NOT NULL,
  ADL BOOLEAN NOT NULL,
  DES_EXCARE TEXT NULL,
  DES_ADL TEXT NULL
);

CREATE TABLE IF NOT EXISTS beacon_client_fixed_Withdrawals (
  UNIQUEID VARCHAR(61) NULL,
  PRODUCTID NUMERIC(18,0) NULL,
  WITHID NUMERIC(18,0) NOT NULL,
  ANNFREEPCT NUMERIC(18,2) NULL,
  DES_MVA TEXT NULL
);

CREATE TABLE IF NOT EXISTS beacon_client_fixed_age (
  UNIQUEID VARCHAR(61) NULL,
  PRODUCTID NUMERIC(18,0) NULL,
  AGEID NUMERIC(18,0) NOT NULL,
  MINANQ BIGINT NULL,
  MINAQ BIGINT NULL,
  MINONQ BIGINT NULL,
  MINOQ BIGINT NULL,
  MXANQ BIGINT NULL,
  MXAQ BIGINT NULL,
  MXAZNQ BIGINT NULL,
  MXAZQ BIGINT NULL,
  MXONQ BIGINT NULL,
  MXOQ BIGINT NULL
);

CREATE TABLE IF NOT EXISTS beacon_client_fixed_bonuses (
  UNIQUEID VARCHAR(61) NULL,
  productid NUMERIC(18,0) NULL,
  bonus_id NUMERIC(16,0) NOT NULL,
  name TEXT NULL,
  sequence NUMERIC(3,0) NOT NULL,
  inception_date TIMESTAMP NULL,
  closed_date TIMESTAMP NULL
);

CREATE TABLE IF NOT EXISTS beacon_client_fixed_companies (
  UNIQUEID NUMERIC(16,0) NOT NULL,
  COMPANYID NUMERIC(16,0) NOT NULL,
  company_name TEXT NULL
);

CREATE TABLE IF NOT EXISTS beacon_client_fixed_death_benefits (
  UNIQUEID VARCHAR(61) NULL,
  productid NUMERIC(18,0) NULL,
  benefit_id NUMERIC(16,0) NOT NULL,
  name TEXT NULL,
  sequence NUMERIC(3,0) NOT NULL,
  sub_sequent_premium TEXT NULL,
  partial_withdrawals TEXT NULL
);

CREATE TABLE IF NOT EXISTS beacon_client_fixed_gmab (
  UNIQUEID VARCHAR(61) NULL,
  product_id NUMERIC(16,0) NOT NULL,
  gmab_id NUMERIC(16,0) NOT NULL,
  name TEXT NULL,
  sequence NUMERIC(3,0) NOT NULL,
  introduction_date TIMESTAMP NULL,
  closed_date TIMESTAMP NULL,
  avail_when_added TEXT NULL,
  target_anniversery_years NUMERIC(3,0) NULL,
  initial_reset_desc TEXT NULL
);

CREATE TABLE IF NOT EXISTS beacon_client_fixed_gmwb (
  UNIQUEID VARCHAR(61) NULL,
  productid NUMERIC(18,0) NULL,
  gmwb_id NUMERIC(16,0) NOT NULL,
  sequence NUMERIC(3,0) NOT NULL,
  name TEXT NULL,
  gmwb_type NUMERIC(1,0) NULL,
  introduction_date TIMESTAMP NULL,
  closed_date TIMESTAMP NULL,
  rider_select_rule NUMERIC(1,0) NULL,
  partial_withdrawals TEXT NULL,
  reqd_min_distributions TEXT NULL,
  benefit_description TEXT NULL,
  benefit_base_general TEXT NULL,
  waiting_period NUMERIC(5,2) NULL,
  waiting_term TEXT NULL,
  max_high_anniv_years NUMERIC(5,3) NULL,
  high_anniv_years NUMERIC(5,3) NULL,
  hav_term TEXT NULL,
  rollup_percentage NUMERIC(5,2) NULL,
  max_rollup_years NUMERIC(3,0) NULL,
  rollup_term TEXT NULL,
  initial_reset_text TEXT NULL,
  min_age NUMERIC(3,0) NULL,
  max_age NUMERIC(3,0) NULL,
  is_simple_comp VARCHAR(3) NOT NULL
);

CREATE TABLE IF NOT EXISTS beacon_client_fixed_products (
  UNIQUEID NUMERIC(18,0) NULL,
  PRODUCTID NUMERIC(18,0) NULL,
  name TEXT NULL,
  "Company name" TEXT NULL,
  EXPDATE TIMESTAMP NULL,
  INCDATE TIMESTAMP NULL,
  PREMIUM_TYPE VARCHAR(22) NULL,
  WINAFTSURR NUMERIC(18,0) NULL,
  closed_date TIMESTAMP NULL,
  proprietary BOOLEAN NOT NULL,
  GUARPRIN BOOLEAN NOT NULL,
  FREEPERIOD NUMERIC(18,0) NULL,
  PARTIC BOOLEAN NOT NULL,
  rating_am_best VARCHAR(8) NULL,
  Riders_Benefits VARCHAR(3) NOT NULL
);

